<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Fix base href - this is CRITICAL -->
    <base href="/" />

    <!-- Consolidated CSS imports (removed duplicates) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
          crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet" />

    <!-- Blazor.Bootstrap CSS -->
    <link href="_content/Blazor.Bootstrap/blazor.bootstrap.css" rel="stylesheet" />

    <!-- Local CSS files (note ~/ for wwwroot) -->
    <link href="/app.css" rel="stylesheet" />
    <link rel="stylesheet" href="@Assets["AlexSupport.styles.css"]" />

    <ImportMap />
    <link rel="icon" type="image/png" href="/favicon.png" />
    <HeadOutlet />
</head>
<body>
    <Routes />

    <script src="_framework/blazor.web.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>


    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <!-- Add chart.js reference if chart components are used in your application. -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.0.1/chart.umd.js" integrity="sha512-gQhCDsnnnUfaRzD8k1L5llCCV6O9HN09zClIzzeJ8OJ9MpGmIlCxm+pdCkqTwqJ4JcjbojFr79rl2F1mzcoLMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- Add chartjs-plugin-datalabels.min.js reference if chart components with data label feature is used in your application. -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-datalabels/2.2.0/chartjs-plugin-datalabels.min.js" integrity="sha512-JPcRR8yFa8mmCsfrw4TNte1ZvF1e3+1SdGMslZvmrzDYxS69J7J49vkFL8u6u8PlPJK+H3voElBtUCzaXj+6ig==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- Add sortable.js reference if SortableList component is used in your application. -->
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
    <script src="_content/Blazor.Bootstrap/blazor.bootstrap.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/notification.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            window.initializeNotificationHandler();
        });
    </script>
    <script src="_content/ChartJs.Blazor/ChartJsBlazorInterop.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"></script>
   
    <script>
        function toggleActive(button) {
            const isActive = button.classList.contains("btn-action-active");

            if (isActive) {
                button.classList.remove("btn-action-active");
                button.classList.add("btn-action-inactive");
                button.textContent = "Activate";
            } else {
                button.classList.remove("btn-action-inactive");
                button.classList.add("btn-action-active");
                button.textContent = "Deactivate";
            }
        }

        function toggleCollapse(button) {
            const card = button.closest('.ticket-card');
            const body = card.querySelector('.collapse-body');
            const isVisible = body.style.display !== 'none';

            if (isVisible) {
                body.style.display = 'none';
                button.textContent = "▼ Details";
            } else {
                body.style.display = 'block';
                button.textContent = "▲ Hide";
            }
        }
    </script>
    <script>
                window.notification = {
            init: function (dotNetHelper) {
                window.dotNetHelper = dotNetHelper;
            },

            playSound: function (soundPath) {
                const audio = document.getElementById('notificationSound');
                audio.src = soundPath;
                audio.play().catch(e => console.log("Audio play failed:", e));
            }
        };
    </script>
    <script>
        window.audioPlayer = {
            play: function (url) {
                const audio = new Audio(url);
                audio.play();
            }
        };

    </script>
    <script>
        // Wait for the DOM to be fully loaded
        document.addEventListener('DOMContentLoaded', function() {
            initializeAccordion();

            function initializeAccordion() {
                const accordionHeaders = document.querySelectorAll('.accordion-header');

                accordionHeaders.forEach(header => {
                    // Remove any previous click handlers to avoid duplicates
                    header.removeEventListener('click', handleAccordionClick);
                    // Add new click handler
                    header.addEventListener('click', handleAccordionClick);
                });
            }

            function handleAccordionClick() {
                const accordionItem = this.parentElement;
                const accordionContent = this.nextElementSibling;
                const icon = this.querySelector('i');

                // Toggle current item
                this.classList.toggle('active');
                accordionContent.classList.toggle('active');

                // Close all other accordion items
                document.querySelectorAll('.accordion-item').forEach(item => {
                    if (item !== accordionItem) {
                        item.querySelector('.accordion-header').classList.remove('active');
                        item.querySelector('.accordion-content').classList.remove('active');
                    }
                });
            }

            // Initialize other FAQ functionality
            const categoryCards = document.querySelectorAll('.category-card');
            categoryCards.forEach(card => {
                card.addEventListener('click', function() {
                    const category = this.getAttribute('data-category');
                    alert(`Showing FAQs for ${this.querySelector('h3').textContent}`);
                    document.querySelector('.faq-accordion').scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });

            // Search functionality
            const searchBtn = document.querySelector('.search-btn');
            const searchBox = document.querySelector('.search-box input');

            searchBtn.addEventListener('click', performSearch);
            searchBox.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') performSearch();
            });

            function performSearch() {
                const searchTerm = searchBox.value.trim();
                if (searchTerm) {
                    alert(`Searching for: ${searchTerm}`);
                }
            }
        });
    </script>

</body>

</html>



